Cleaning up...
Running test_few_shot_memory.py scripts...
=== Running: 1_missing_semicolon_buggy ===
No existing database found at data/test_memory_database.yaml
No cached memories found. Creating new memories.
  missing_semicolon: 3
  unknown: 1
  memory_leak: 1
  mismatched_brackets: 1
  infinite_loop: 1
  undeclared_variable: 2
  array_bounds: 1
Loaded 10 examples from data/sample_memories.yaml
Adding examples to memory system...
Successfully cached 10 memories
Found exact match: 8178a6bc-b7d1-464e-88b4-e5981f7c0cc8
Found 1 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmp1v5ofw35.cpp:4:14: error: expected ';' at end of declaration
Error type: missing_element

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    int x = 5;
    std::cout << "The value of x is: " << x << std::endl;
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: 2_undeclared_variable_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: d5cddfa4-abcf-40af-b6f4-750b1c89cff9
Found 1 similar examples

Top match: C++ Bug: Fix the bug in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpoo4rfneg.cpp:4:5: error: use of undeclared identifier 'y'
Error type: unknown

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    int y = 10;  // Fixed: y is now declared as an int
    std::cout << "The value of y is: " << y << std::endl;
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: 3_mismatched_brackets_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 7311e48c-6cbd-405d-a36d-1a5f5b8d1723
Found 1 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmp9jl3jb20.cpp:4:32: error: expected ')'
Error type: missing_element

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    for (int i = 0; i < 5; i++) {
        std::cout << "Iteration: " << i << std::endl;
    }
    return 0;
}
```

--- Database statistics ---
Examples in memory: 10
=== Running: 4_infinite_loop_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 6d2f376e-3cc1-427e-9dfb-281bdc35251b
Found 1 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpbs00mp9a.cpp:10:11: error: expected '(' after 'while'
Error type: missing_element

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>
#include <chrono>
#include <thread>

int main() {
    int count = 0;
    int limit = 5;  // Fixed: limit is 5, so loop will run 5 times
    
    // Fixed: Proper while loop syntax with parentheses
    while (count < limit) {
        std::cout << "Count: " << count << std::endl;
        count++;  // Fixed: Going in correct direction
        
        // Add a small delay for visual effect
        std::this_thread::sleep_for(std::chrono::milliseconds(100));
    }
    
    std::cout << "Loop completed with count = " << count << std::endl;
    return 0;
}
```

--- Database statistics ---
Examples in memory: 10
=== Running: 5_null_pointer_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 7ed1b3a2-2718-43ee-8295-059c75667061
Found 1 similar examples

Top match: C++ Bug: Fix the bug in this code. Error: Code contains errors not detected by automatic analysis
Error type: unknown

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    int value = 0;
    int* ptr = &value;
    *ptr = 10;  // Fixed: Properly initialized pointer
    std::cout << "Value at ptr: " << *ptr << std::endl;
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: 6_array_bounds_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 938d4faf-c1b2-4a7b-a9a1-31186d84e9fe
Found 1 similar examples

Top match: C++ Bug: Fix the bug in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpg7a004cx.cpp:5:9: error: array initializer must be an initializer list
Error type: unknown

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    // Fixed: Proper array declaration with correct syntax
    int arr[5] = {1, 2, 3, 4, 5};
    
    for (int i = 0; i < 5; i++) {  // Fixed: Proper bounds checking
        std::cout << "Element " << i << ": " << arr[i] << std::endl;
    }
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: 7_memory_leak_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 29b047e7-e0eb-4d53-ad4a-f151c4210d48
Found 1 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpk9_74fvx.cpp:5:20: error: expected '(' for function-style cast or type construction
Error type: missing_element

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    // Fixed: Proper syntax for memory allocation with 'new' keyword
    int* data = new int[100];  // Correct allocation syntax
    
    for (int i = 0; i < 100; i++) {
        data[i] = i;
    }
    
    std::cout << "Array sum: " << data[0] + data[99] << std::endl;
    
    delete[] data;  // Proper memory deallocation
    
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: 8_division_by_zero_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 8ca5a69b-3c8c-434f-9596-5b0bc3fa1af0
Found 1 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpzw1mrii0.cpp:8:20: error: expected ';' at end of declaration
Error type: missing_element

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    int a = 10;
    int b = 5;
    
    int result = a / b;
    
    std::cout << "Result: " << result << std::endl;
    
    return 0;
}
```

--- Database statistics ---
Examples in memory: 10
=== Running: 9_variable_shadowing_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: 34c6bd54-e854-4de4-9f26-b576c7356655
Found 1 similar examples

Top match: C++ Bug: Fix the bug in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmp8zjgqdn5.cpp:8:9: error: use of undeclared identifier 'value2'; did you mean 'value'?
Error type: unknown

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    int value = 5;
    
    if (value > 0) {
        int value2 = 10;
        value2++;
    }
    
    std::cout << "Value: " << value << std::endl;  // Prints 11
    
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: 10_uninitialized_variable_buggy ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found exact match: df2cd837-dee8-4767-b2db-bf214f0f2fda
Found 1 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpkppgp4xh.cpp:5:15: error: expected ';' at end of declaration
Error type: missing_element

Exact match found! Suggested fix will be in the output file.

Suggested fix:
```
#include <iostream>

int main() {
    // Fixed: Proper variable declaration with semicolon
    int number;  // Properly terminated with semicolon
    
    number = 10;
    
    std::cout << "Number: " << number << std::endl;
    
    return 0;
} 
```

--- Database statistics ---
Examples in memory: 10
=== Running: b1 ===
No existing database found at data/test_memory_database.yaml
Loading cached memories from cached_memories_cpp_openai_gpt-4o-mini/memory_cache_cpp_bugs.pkl
Successfully loaded 10 memories
Found 3 similar examples

Top match: C++ Bug: Fix the missing_element in this code. Error: /var/folders/33/2m8c0r8s1cq6tfdwpfpy9ycc0000gn/T/tmpzw1mrii0.cpp:8:20: error: expected ';' at end of declaration
Error type: missing_element

--- Database statistics ---
Examples in memory: 10
